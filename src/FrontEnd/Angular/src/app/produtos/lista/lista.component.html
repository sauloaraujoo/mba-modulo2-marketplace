<div class="container main-container">
  <div *ngIf="produtos.length === 0 && contexto === 'favoritos'; else listaProdutos">
    <p class="text-muted">Você ainda não tem produtos favoritos.</p>
  </div>

  <ng-template #listaProdutos>
    <div class="row justify-content-center">

      <div *ngFor="let produto of produtos" class="col-md-4 mb-4">
        <div class="card produto-card h-100 text-center position-relative">

          <button *ngIf="ehUsuarioLogado()"
                  class="btn btn-link favorito-btn"
                  (click)="AdicionarRemoverFavorito(produto.id)">
            <i class="bi"
               [ngClass]="{ 'bi-heart-fill': ehFavorito(produto.id), 'bi-heart': !ehFavorito(produto.id) }"></i>
          </button>

          <a class="text-decoration-none" [routerLink]="['/produto', produto.id]">
            <div class="imagem-container">
              <img [src]="urlImagem + produto.imagem"
                   alt="{{ produto.nome }}"
                   class="card-img-top imagem-produto">
            </div>
          </a>

          <div class="card-body">
            <h5 class="produto-nome">{{ produto.nome | titlecase }}</h5>
            <p class="produto-preco">
              {{ produto.preco | currency:'BRL':true:'1.2-2':'pt' }}
            </p>

            <a class="btn btn-primary btn-sm botao-detalhe"
               [routerLink]="['/produtos/produto', produto.id]">
              <span class="fa fa-search"></span> Detalhes
            </a>
          </div>
        </div>
      </div>

      <app-paginacao
        [totalItens]="totalItens"
        [paginaAtual]="paginaAtual"
        [tamanhoPagina]="tamanhoPagina"
        (paginaChange)="mudarPagina($event)">
      </app-paginacao>
    </div>
  </ng-template>
</div>
